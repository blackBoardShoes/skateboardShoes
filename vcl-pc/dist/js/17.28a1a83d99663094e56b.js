webpackJsonp([17],{"2v+1":function(t,e){},QM0h:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Xxa5"),n=a.n(i),s=a("exGp"),r=a.n(s),o=a("iGgI"),c=a("gyMJ"),u=a("sICn").proxyTableApi.api,p={name:"home",data:function(){return{optionA:{},optionB:{},optionC:{},user:{},viewOptions:[],finishedOperation:{day:{},month:{},week:{}},activeIndex:"day"}},mounted:function(){this.user=this.$store.state.user,null!==this.user.codetype&&this.initView(this.user.codetype)},methods:{initView:function(t){switch(this.operationByDay(),this.operationByWeek(),this.operationByMonth(),this.operationDiffMeth(),this.outHospitalStatusMeth(),t){case 1:case 3:this.viewOptions=[{icon:"ercp-icon-module-patient",title:"患者人数",count:"???"},{icon:"ercp-icon-module-project",title:"住院人次",count:"???"},{icon:"ercp-icon-module-task",title:"待做手术",count:"???"}],this.patientNumberMeth(1),this.inHospitalNumberMeth(2),this.needOperationMeth(3);break;case 2:this.viewOptions=[{icon:"ercp-icon-module-patient",title:"患者人数",count:"???"},{icon:"ercp-icon-module-project",title:"住院人次",count:"???"},{icon:"ercp-icon-module-task",title:"待做手术",count:"???"},{icon:"ercp-icon-general-audit",title:"待审核",count:"???"}],this.patientNumberMeth(1),this.inHospitalNumberMeth(2),this.needOperationMeth(3),this.nonCheckNumberMeth(4);break;case 4:this.viewOptions=[{icon:"ercp-icon-module-patient",title:"患者人数",count:"???"},{icon:"ercp-icon-module-project",title:"住院人次",count:"???"},{icon:"ercp-icon-general-audit",title:"待做手术",count:"???"},{icon:"ercp-icon-general-audit",title:"待审核",count:"???"}],this.patientNumberMeth(1),this.inHospitalNumberMeth(2),this.needOperationMeth(3),this.nonCheckNumberMeth(4);break;case 5:case 6:this.viewOptions=[{icon:"ercp-icon-module-patient",title:"患者人数",count:"???"},{icon:"ercp-icon-module-project",title:"住院人次",count:"???"},{icon:"ercp-icon-general-audit",title:"待审核",count:"???"},{icon:"ercp-icon-general-correct",title:"待修正",count:"???"}],this.patientNumberMeth(1),this.inHospitalNumberMeth(2),this.nonCheckNumberMeth(3),this.nonRepairNumberMeth(4);break;default:this.$messsage.error("未存在该用户类型")}},transformBy:function(t){this.activeIndex=t;var e=this.finishedOperation[t],a=0;e.value.forEach(function(t){a+=t.value});var i=[{name:"手术完成",value:e.value.reverse()}],n=["#A0A7E6","#63D2B5","#3FB1E3","#FBB46C","#626C91","#404A59","#A0A7E6","#63D2B5","#3FB1E3","#FBB46C","#626C91","#404A59","#A0A7E6","#63D2B5","#3FB1E3","#FBB46C","#626C91","#404A59","#A0A7E6","#63D2B5","#3FB1E3","#FBB46C","#626C91","#404A59","#A0A7E6","#63D2B5","#3FB1E3","#FBB46C","#626C91","#404A59"];i[0].value.forEach(function(t,e){t.itemStyle={color:n[e]}});var s={text:"手术完成统计 ("+e.types[e.types.length-1]+"~"+e.types[0]+")",subtext:"共计"+a+"例",classes:[],data:i,legendData:e.types.reverse()};switch(t){case"day":var r=[];s.legendData.forEach(function(t){r.push(t.substr(5))}),s.legendData=r,s.zoom=[20,80],s.barWidth="50%",this.optionA=Object(o.a)(this.optionA,s,5),this.optionA.xAxis[0].axisLabel={rotate:15,interval:0,align:"center",verticalAlign:"top"};break;case"week":s.text="手术完成统计 ("+e.types[e.types.length-1].split("~")[0]+"~"+e.types[0].split("~")[1]+")",s.zoom=[0,100],s.barWidth="20%",this.optionA=Object(o.a)(this.optionA,s,5);break;case"month":s.zoom=[0,100],s.barWidth="35%",this.optionA=Object(o.a)(this.optionA,s,5)}},operationByDay:function(){var t=this;return r()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get(u+"/formdata/getOperCompCountByDay");case 2:"SUCCESS"===(a=e.sent).data.mitiStatus?(t.finishedOperation.day=a.data.entity,t.transformBy("day")):t.$message.error("ERROR: "+a.data.message);case 4:case"end":return e.stop()}},e,t)}))()},operationByWeek:function(){var t=this;return r()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get(u+"/formdata/getOperCompCountByWeek");case 2:"SUCCESS"===(a=e.sent).data.mitiStatus?t.finishedOperation.week=a.data.entity:t.$message.error("ERROR: "+a.data.message);case 4:case"end":return e.stop()}},e,t)}))()},operationByMonth:function(){var t=this;return r()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get(u+"/formdata/getOperCompCountByMonth");case 2:"SUCCESS"===(a=e.sent).data.mitiStatus?t.finishedOperation.month=a.data.entity:t.$message.error("ERROR: "+a.data.message);case 4:case"end":return e.stop()}},e,t)}))()},outHospitalStatusMeth:function(){var t=this;return r()(n.a.mark(function e(){var a,i,s,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get(u+"/formdata/getLeaveHospitalStatus");case 2:"SUCCESS"===(a=e.sent).data.mitiStatus?(i=a.data.entity,s=0,i.value.forEach(function(t){s+=t.value}),r={text:"患者出院时状态分布",subtext:"共计"+s+"例",classes:i.type,data:i.value},t.optionC=Object(o.a)(t.optionC,r,2)):t.$message.error("ERROR: "+a.data.message);case 4:case"end":return e.stop()}},e,t)}))()},operationDiffMeth:function(){var t=this;return r()(n.a.mark(function e(){var a,i,s,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get(u+"/formdata/getAsgeCount");case 2:"SUCCESS"===(a=e.sent).data.mitiStatus?(i=a.data.entity,s=0,i.value.forEach(function(t){s+=t.value}),r={text:"手术难度分级统计",subtext:"共计"+s+"例",classes:i.type,data:i.value},t.optionB=Object(o.a)(t.optionB,r,2)):t.$message.error("ERROR: "+a.data.message);case 4:case"end":return e.stop()}},e,t)}))()},patientNumberMeth:function(t){var e=this;return r()(n.a.mark(function a(){var i,s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.get(u+"/patient/getAllPatientCount");case 2:"SUCCESS"===(i=a.sent).data.mitiStatus?(s=i.data.entity,e.viewOptions[t-1].count=s):e.$message.error("ERROR: "+i.data.message);case 4:case"end":return a.stop()}},a,e)}))()},inHospitalNumberMeth:function(t){var e=this;return r()(n.a.mark(function a(){var i,s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.get(u+"/formdata/inHospitalCount");case 2:"SUCCESS"===(i=a.sent).data.mitiStatus?(s=i.data.entity,e.viewOptions[t-1].count=s):e.$message.error("ERROR: "+i.data.message);case 4:case"end":return a.stop()}},a,e)}))()},needOperationMeth:function(t){var e=this;return r()(n.a.mark(function a(){var i,s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.get(u+"/formdata/wairForOperaiton");case 2:"SUCCESS"===(i=a.sent).data.mitiStatus?(s=i.data.entity,e.viewOptions[t-1].count=s):e.$message.error("ERROR: "+i.data.message);case 4:case"end":return a.stop()}},a,e)}))()},nonCheckNumberMeth:function(t){var e=this;return r()(n.a.mark(function a(){var i,s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.get(u+"/formdata/getToCheckCount");case 2:"SUCCESS"===(i=a.sent).data.mitiStatus?(s=i.data.entity,e.viewOptions[t-1].count=s):e.$message.error("ERROR: "+i.data.message);case 4:case"end":return a.stop()}},a,e)}))()},nonRepairNumberMeth:function(t){var e=this;return r()(n.a.mark(function a(){var i,s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.get(u+"/formdata/getToAmend");case 2:"SUCCESS"===(i=a.sent).data.mitiStatus?(s=i.data.entity,e.viewOptions[t-1].count=s):e.$message.error("ERROR: "+i.data.message);case 4:case"end":return a.stop()}},a,e)}))()}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"home"}},[a("div",{staticClass:"sys-view"},[a("div",{staticClass:"overview er-card"},[t._m(0),t._v(" "),a("div",{staticClass:"basic-view"},t._l(t.viewOptions,function(e,i){return a("div",{key:i,staticClass:"case"},[a("div",{staticClass:"icon"},[a("i",{class:e.icon})]),t._v(" "),a("div",{staticClass:"one-case"},[a("div",{staticClass:"case-num"},[t._v(t._s(e.count))]),t._v(" "),a("div",{staticClass:"case-title light-text"},[t._v(t._s(e.title))])])])}))]),t._v(" "),a("div",{staticClass:"statistics"},[a("div",{staticClass:"case-top er-card"},[a("chart",{ref:"A",staticStyle:{width:"100%",height:"100%"},attrs:{options:t.optionA,"auto-resize":""}}),t._v(" "),a("div",{staticClass:"transType"},[a("div",{staticClass:"type",on:{click:function(e){t.transformBy("day")}}},[a("div",{class:{color:!0,active:"day"===t.activeIndex}}),t._v("按日")]),t._v(" "),a("div",{staticClass:"type",on:{click:function(e){t.transformBy("week")}}},[a("div",{class:{color:!0,active:"week"===t.activeIndex}}),t._v("按周")]),t._v(" "),a("div",{staticClass:"type",on:{click:function(e){t.transformBy("month")}}},[a("div",{class:{color:!0,active:"month"===t.activeIndex}}),t._v("按月")])])],1),t._v(" "),a("div",{staticClass:"case-bottom"},[a("div",{staticClass:"case-left er-card"},[a("chart",{ref:"B",staticStyle:{width:"100%",height:"100%"},attrs:{options:t.optionB,"auto-resize":""}})],1),t._v(" "),a("div",{staticClass:"case-right er-card"},[a("chart",{ref:"C",staticStyle:{width:"100%",height:"100%"},attrs:{options:t.optionC,"auto-resize":""}})],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-title"},[e("span",[e("i",{staticClass:"ercp-icon-general-summary"}),e("b",[this._v("系统概览")])])])}]};var h=a("VU/8")(p,d,!1,function(t){a("2v+1")},"data-v-65bf5dc6",null);e.default=h.exports}});