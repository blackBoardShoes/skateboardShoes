webpackJsonp([3],{"75n2":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAASCAYAAADMgVnKAAAACXBIWXMAAAsSAAALEgHS3X78AAAC6UlEQVRYhc2Y7XHbMAyGn+T83ykXiCdgskHUCepOEHWCKhME3cCdoMoE9QaRN5A1gbwAz56g/UEqlWWRouR89L3zmSIh6CUIgAQvPj1uC85DbkTnSqpbYDXh/RLYA4URHcVFSZUCGXDTGdoBa8cj74xlRnR5Bs/a/dZGdNl0zoC7CcraKNz/1URdzTuPSqodsGwTbMNNPufUcA2uge9ACsw7Y1evyHMDpEZ0fTlB0VviGiicoY7g+gr8xmuja7zXxh1QKqkW/5sBwU5eevpz3t4wYzAH0ktgAxwCglsns3FtH/YRuh6Az8A3bL7y4Uv7weW8kOdtga/AzwG9bZ4huTbP0JyXl0Z0gk3kPmRGdOLkMp+QEV1G6CqN6MKIzrF5KhYSGDsAiRG9NqIz4JbAIrZ45pE8vXMGbmaBwb6PF8DFmHcCOMlzLbx4h5Jqgc2NPuRG9L55MKL3SqqM0wXaMw2L0GCMAZ+VVE37hxEtE4kArJRUe+xOGArJdau9GNB54vHOc/KR3NpoeC4IL95ulAe+AmJ20C3H57RkQL6eSiaAGJ4A+XsbcAg7bD6bGm7viScjWmIMuOVf/qjP/Gijy3eQvcaGTTssC+AxoHPR16mk+gM8YSuHdZ/MRGyBlUsTUTkwiy2xYnUpqXLg3iOz4jhsh7yx79C9dM174F5JdcBOWiJ5PnCaW/d9FdKoEFZSJcBzp3vKxiL4DXinpEqbFXb16w5/Mk+VVNIJ++7RY87wZtRGGes0MyWVDChPneEIybnjRhqhC+eFP/CH5srpy43oGmvwXx7ZObb8E/ec0Z8i8g7PZIBnEuMYM8L5Bfye0sUiUleNzWsr7GT7yrO501UAtbvt6bt9aXAD/A58d9PyqFieED7AA/BhtbALuTHXSkvCZaIPB8ZVPaPw0ZcJKyKN4kL5FlvHxmKLPRbVo5lFYsY4Qn2o3X9TpMfKh8quBkc7sDNE4nJyis1jfZvLBnfR69F57pxf8BeDniMSkv1EZAAAAABJRU5ErkJggg=="},MR7i:function(e,t){},PpLw:function(e,t){},W2Q3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("Xxa5"),r=n.n(s),a=n("exGp"),i=n.n(a),o={mounted:function(){this.draw()},props:{codeLength:{type:Number,default:4}},data:function(){return{codes:[],ctx:"",colors1:["#fff","#fff","#fff","#fff","#fff"],colors2:["#000","#000","#000","#000","#000"],code_Len:this.codeLength}},computed:{codeString:function(){for(var e="",t=0;t<this.codes.length;t++)e+=this.codes[t];return e.toUpperCase()}},watch:{codeString:function(e,t){this.$emit("change",e)}},methods:{generateRandom:function(){this.codes=[];for(var e="qwertyuiopasdfghjklzxcvbnm0123456789".split(""),t=0;t<this.code_Len;t++){var n=Math.floor(Math.random()*e.length);this.codes.push(e[n])}},draw:function(){this.generateRandom(),this.drawText()},drawLine:function(){for(var e=0;e<300;e++){this.ctx.strokeStyle=this.colors2[Math.floor(5*Math.random())],this.ctx.beginPath();var t=120*Math.random(),n=Math.floor(40*Math.random());this.ctx.moveTo(t,n),this.ctx.lineTo(t+1,n+1),this.ctx.stroke()}},drawText:function(){var e=this.$refs.canvas;this.ctx=e.getContext("2d"),this.ctx.fillStyle="#20272c",this.ctx.fillRect(0,0,100,40),this.ctx.font="20px Verdana";for(var t=15,n=0;n<4;n++)this.ctx.fillStyle=this.colors1[Math.floor(5*Math.random())],this.ctx.fillText(this.codes[n],t,25),t+=25;this.drawLine()}}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"validate-code"},[t("canvas",{ref:"canvas",attrs:{width:"160px",height:"40px"},on:{click:this.draw}})])},staticRenderFns:[]};var l=n("VU/8")(o,c,!1,function(e){n("PpLw")},"data-v-10560b35",null).exports,d=n("sF3y"),p={created:function(){var e=this.$electron.ipcRenderer;e.send("loginResize"),e.send("nonableResize"),e.send("center"),this.$store.commit("SET_TOKEN",""),this.$store.commit("SET_USER",null),console.log(this.$store.state)},mounted:function(){this.env="production"},data:function(){var e=this;return{passwordType:"password",checkCode:"",form:{username:"",password:"",yanzhengma:""},rules:{username:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}],yanzhengma:[{validator:function(t,n,s){""===(n=n.toUpperCase())?(e.yanzhengmaHolder="",s(new Error("请输入验证码"))):n!==e.checkCode?(e.yanzhengmaHolder="",s(new Error("验证码错误")),e.$refs["validate-code"].draw()):s()},trigger:"blur"}]},yanzhengmaHolder:"请输入验证码",env:""}},methods:{_setCheckCode:function(e){this.checkCode=e,this.form.yanzhengma=e},_togglePasswordType:function(){this.passwordType="password"===this.passwordType?"text":"password"},_updateCheckCode:function(){this.$refs["validate-code"].draw()},login:function(e){var t=this;return i()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.loginForm.validate(function(){var e=i()(r.a.mark(function e(n){var s,a,i,o,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=8;break}return s={username:t.form.username,password:t.form.password},e.next=4,Object(d.f)(s);case 4:"SUCCESS"===(a=e.sent).data.mitiStatus?(i=a.data.entity.User,o=a.data.entity.Token.token,t.$store.commit("SET_TOKEN",o),t.$store.commit("SET_USER",i),t.$router.push("/home"),t.env="production","production"===t.env&&((c=t.$electron.ipcRenderer).send("hide"),c.send("mainResize"),c.send("ableResize"),c.send("center"))):t.$message.error("ERROR: "+a.data.message),e.next=9;break;case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},windwowOperate:function(e){var t=this.$electron.ipcRenderer;switch(e){case"mini":t.send("min");break;case"max":t.send("max");break;case"close":t.send("close")}console.log(e)}},components:{validateCode:l}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"login"}},[n("div",{staticClass:"login-wrapper"},[e._m(0),e._v(" "),n("div",{staticClass:"right-login"},[e._m(1),e._v(" "),n("div",{staticClass:"login-form"},[n("el-form",{ref:"loginForm",attrs:{model:e.form,rules:e.rules}},[n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}},[n("i",{staticClass:"el-input__icon ercp-icon-general-account",staticStyle:{"font-size":"18px","line-height":"48px"},attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:e.passwordType,placeholder:"请输入密码"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.login("loginForm")}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[n("i",{staticClass:"el-input__icon ercp-icon-general-password",staticStyle:{"font-size":"18px","line-height":"48px"},attrs:{slot:"prefix"},slot:"prefix"}),e._v(" --\x3e\n              "),n("i",{staticClass:"el-input__icon ercp-icon-general-preview",staticStyle:{cursor:"pointer","line-height":"48px"},attrs:{slot:"suffix"},on:{click:e._togglePasswordType},slot:"suffix"})])],1),e._v(" "),n("el-row",[n("el-col",{attrs:{span:13}},[n("el-form-item",{attrs:{prop:"yanzhengma"}},[n("div",{staticClass:"check-code-wrapper"},[n("div",{staticClass:"yanzhengma-wrapper"},[n("el-input",{attrs:{placeholder:e.yanzhengmaHolder},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.login("loginForm")}},model:{value:e.form.yanzhengma,callback:function(t){e.$set(e.form,"yanzhengma",t)},expression:"form.yanzhengma"}},[n("i",{staticClass:"el-input__icon ercp-icon-general-vertify",staticStyle:{"font-size":"18px","line-height":"48px"},attrs:{slot:"prefix"},slot:"prefix"})])],1)])])],1),e._v(" "),n("el-col",{attrs:{span:11}},[n("div",{staticClass:"validate-code-wrapper"},[n("validate-code",{ref:"validate-code",on:{change:e._setCheckCode}})],1)])],1),e._v(" "),n("div",{staticStyle:{"margin-bottom":"0","margin-top":"40px",height:"48px"}},[n("el-col",{attrs:{offset:6,span:12}},[n("el-button",{staticClass:"login-btn",staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){e.login()}}},[e._v("\n                登录系统\n              ")])],1)],1)],1)],1),e._v(" "),n("div",{staticClass:"close-button"},[n("i",{staticClass:"ercp-icon-general-minimine",on:{click:function(t){e.windwowOperate("mini")}}}),e._v(" "),n("i",{staticClass:"ercp-icon-general-close",on:{click:function(t){e.windwowOperate("close")}}})])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"left-bgi"},[t("img",{attrs:{src:n("tBK6"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"login-title"},[t("img",{attrs:{src:n("75n2"),alt:""}}),this._v(" "),t("br"),this._v(" "),t("span",[this._v("信息录入管理系统")])])}]};var u=n("VU/8")(p,f,!1,function(e){n("W6cj"),n("MR7i")},"data-v-2f5f4894",null);t.default=u.exports},W6cj:function(e,t){},tBK6:function(e,t,n){e.exports=n.p+"img/登录框@2x.543504d.png"}});