webpackJsonp([25],{QM0h:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Xxa5"),s=a.n(i),n=a("exGp"),r=a.n(n),o=a("iGgI"),c=a("gyMJ"),u=a("sICn").proxyTableApi.api,p={name:"home",data:function(){return{optionA:{},optionB:{},optionC:{},user:{},viewOptions:[],number1:0,number2:0,number3:0,number4:0,finishedOperation:{day:{},month:{},week:{}},activeIndex:"day"}},mounted:function(){this.user=this.$store.state.user,null!==this.user.codetype&&this.initView(this.user.codetype),this.optionA=o.a[4],this.optionC=o.a[0]},methods:{initView:function(t){switch(this.operationByDay(),this.operationByWeek(),this.operationByMonth(),t){case 1:case 3:this.viewOptions=[{icon:"ercp-icon-module-patient",title:"患者人数",count:"???"},{icon:"ercp-icon-module-patient",title:"住院人次",count:"???"},{icon:"ercp-icon-module-user",title:"待做手术",count:"???"}],this.patientNumberMeth(1),this.inHospitalNumberMeth(2),this.needOperationMeth(3),this.outHospitalStatusMeth();break;case 2:this.viewOptions=[{icon:"ercp-icon-module-patient",title:"患者人数",count:"???"},{icon:"ercp-icon-module-patient",title:"住院人次",count:"???"},{icon:"ercp-icon-module-user",title:"待做手术",count:"???"},{icon:"ercp-icon-module-project",title:"待审核",count:"???"}],this.patientNumberMeth(1),this.inHospitalNumberMeth(2),this.needOperationMeth(3),this.nonCheckNumberMeth(4),this.outHospitalStatusMeth();break;case 4:this.viewOptions=[{icon:"ercp-icon-module-patient",title:"患者人数",count:"???"},{icon:"ercp-icon-module-patient",title:"住院人次",count:"???"},{icon:"ercp-icon-general-audit",title:"待做手术",count:"???"},{icon:"ercp-icon-general-audit",title:"待审核",count:"???"}],this.patientNumberMeth(1),this.inHospitalNumberMeth(2),this.needOperationMeth(3),this.nonCheckNumberMeth(4),this.operationDiffMeth();break;case 5:this.viewOptions=[{icon:"ercp-icon-module-patient",title:"患者人数",count:"???"},{icon:"ercp-icon-module-patient",title:"住院人次",count:"???"},{icon:"ercp-icon-general-audit",title:"待审核",count:"???"},{icon:"ercp-icon-general-correct",title:"待修正",count:"???"}],this.patientNumberMeth(1),this.inHospitalNumberMeth(2),this.nonCheckNumberMeth(3),this.nonRepairNumberMeth(4),this.operationDiffMeth();break;case 6:this.viewOptions=[{icon:"ercp-icon-module-patient",title:"患者人数",count:"???"},{icon:"ercp-icon-module-patient",title:"住院人次",count:"???"},{icon:"ercp-icon-general-audit",title:"待审核",count:"???"},{icon:"ercp-icon-general-correct",title:"待修正",count:"???"}],this.patientNumberMeth(1),this.inHospitalNumberMeth(2),this.nonCheckNumberMeth(3),this.nonRepairNumberMeth(4),this.outHospitalStatusMeth();break;default:this.$messsage.error("未存在该用户类型")}this.aoPatientMeth()},aoPatientMeth:function(){var t=this;return r()(s.a.mark(function e(){var a,i,n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get(u+"/formdata/getDeptPatientCount");case 2:"SUCCESS"===(a=e.sent).data.mitiStatus?(i=a.data.entity,n=0,i.value.forEach(function(t){n+=t.value}),r={text:"各科室患者分布",subtext:"共计"+n+"例",classes:i.type,data:i.value},t.optionB=Object(o.b)(t.optionB,r,2)):t.$message.error("ERROR: "+a.data.message);case 4:case"end":return e.stop()}},e,t)}))()},transformBy:function(t){this.activeIndex=t;var e=this.finishedOperation[t],a=0,i=[];e.value.forEach(function(t){t.value.forEach(function(t){a+=t.value})});var s={text:"手术完成统计",subtext:"共计"+a+"例",classes:e.type,data:e.value,legendData:i};switch(t){case"day":e.value[0].value.forEach(function(t){i.push(t.name.split(" 00:00:00")[0].split("2018-")[1])}),this.optionA=Object(o.b)(this.optionA,s,5);break;case"week":e.value[0].value.forEach(function(t){var e=(t.name.split("2018-")[1]+t.name.split("2018-")[2]).split("2018-")[0];e=e.replace(/至/," ~"),i.push(e)}),this.optionA=Object(o.b)(this.optionA,s,5),this.optionA.xAxis[0].axisLabel={rotate:15,interval:0};break;case"month":e.value[0].value.forEach(function(t){i.push(t.name)}),this.optionA=Object(o.b)(this.optionA,s,5)}},operationByDay:function(){var t=this;return r()(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get(u+"/formdata/getOperCompCountByDay");case 2:"SUCCESS"===(a=e.sent).data.mitiStatus?(t.finishedOperation.day=a.data.entity,t.transformBy("day")):t.$message.error("ERROR: "+a.data.message);case 4:case"end":return e.stop()}},e,t)}))()},operationByWeek:function(){var t=this;return r()(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get(u+"/formdata/getOperCompCountByWeek");case 2:"SUCCESS"===(a=e.sent).data.mitiStatus?t.finishedOperation.week=a.data.entity:t.$message.error("ERROR: "+a.data.message);case 4:case"end":return e.stop()}},e,t)}))()},operationByMonth:function(){var t=this;return r()(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get(u+"/formdata/getOperCompCountByMonth");case 2:"SUCCESS"===(a=e.sent).data.mitiStatus?t.finishedOperation.month=a.data.entity:t.$message.error("ERROR: "+a.data.message);case 4:case"end":return e.stop()}},e,t)}))()},outHospitalStatusMeth:function(){var t=this;return r()(s.a.mark(function e(){var a,i,n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get(u+"/formdata/getLeaveHospitalStatus");case 2:"SUCCESS"===(a=e.sent).data.mitiStatus?(i=a.data.entity,n=0,i.value.forEach(function(t){n+=t.value}),r={text:"患者出院时状态分布",subtext:"共计"+n+"例",classes:i.type,data:i.value},t.optionC=Object(o.b)(t.optionC,r,2)):t.$message.error("ERROR: "+a.data.message);case 4:case"end":return e.stop()}},e,t)}))()},operationDiffMeth:function(){var t=this;return r()(s.a.mark(function e(){var a,i,n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get(u+"/formdata/getAsgeCount");case 2:"SUCCESS"===(a=e.sent).data.mitiStatus?(i=a.data.entity,n=0,i.value.forEach(function(t){n+=t.value}),r={text:"手术难度分级统计",subtext:"共计"+n+"例",classes:i.type,data:i.value},t.optionC=Object(o.b)(t.optionC,r,2)):t.$message.error("ERROR: "+a.data.message);case 4:case"end":return e.stop()}},e,t)}))()},patientNumberMeth:function(t){var e=this;return r()(s.a.mark(function a(){var i,n;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.get(u+"/patient/getAllPatientCount");case 2:"SUCCESS"===(i=a.sent).data.mitiStatus?(n=i.data.entity,e.viewOptions[t-1].count=n):e.$message.error("ERROR: "+i.data.message);case 4:case"end":return a.stop()}},a,e)}))()},inHospitalNumberMeth:function(t){var e=this;return r()(s.a.mark(function a(){var i,n;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.get(u+"/formdata/inHospitalCount");case 2:"SUCCESS"===(i=a.sent).data.mitiStatus?(n=i.data.entity,e.viewOptions[t-1].count=n):e.$message.error("ERROR: "+i.data.message);case 4:case"end":return a.stop()}},a,e)}))()},needOperationMeth:function(t){var e=this;return r()(s.a.mark(function a(){var i,n;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.get(u+"/formdata/wairForOperaiton");case 2:"SUCCESS"===(i=a.sent).data.mitiStatus?(n=i.data.entity,e.viewOptions[t-1].count=n):e.$message.error("ERROR: "+i.data.message);case 4:case"end":return a.stop()}},a,e)}))()},nonCheckNumberMeth:function(t){var e=this;return r()(s.a.mark(function a(){var i,n;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.get(u+"/formdata/getToCheckCount");case 2:"SUCCESS"===(i=a.sent).data.mitiStatus?(n=i.data.entity,e.viewOptions[t-1].count=n):e.$message.error("ERROR: "+i.data.message);case 4:case"end":return a.stop()}},a,e)}))()},nonRepairNumberMeth:function(t){var e=this;return r()(s.a.mark(function a(){var i,n;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.get(u+"/formdata/getToAmend");case 2:"SUCCESS"===(i=a.sent).data.mitiStatus?(n=i.data.entity,e.viewOptions[t-1].count=n):e.$message.error("ERROR: "+i.data.message);case 4:case"end":return a.stop()}},a,e)}))()}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"home"}},[a("div",{staticClass:"sys-view"},[a("div",{staticClass:"overview er-card"},[t._m(0),t._v(" "),a("div",{staticClass:"basic-view"},t._l(t.viewOptions,function(e,i){return a("div",{key:i,staticClass:"case"},[a("div",{staticClass:"icon"},[a("i",{class:e.icon})]),t._v(" "),a("div",{staticClass:"one-case"},[a("div",{staticClass:"case-num"},[t._v(t._s(e.count))]),t._v(" "),a("div",{staticClass:"case-title light-text"},[t._v(t._s(e.title))])])])}))]),t._v(" "),a("div",{staticClass:"statistics"},[a("div",{staticClass:"case-top er-card"},[a("chart",{ref:"A",staticStyle:{width:"100%",height:"100%"},attrs:{options:t.optionA,"auto-resize":""}}),t._v(" "),a("div",{staticClass:"transType"},[a("div",{staticClass:"type",on:{click:function(e){t.transformBy("day")}}},[a("div",{class:{color:!0,active:"day"===t.activeIndex}}),t._v("按日")]),t._v(" "),a("div",{staticClass:"type",on:{click:function(e){t.transformBy("week")}}},[a("div",{class:{color:!0,active:"week"===t.activeIndex}}),t._v("按周")]),t._v(" "),a("div",{staticClass:"type",on:{click:function(e){t.transformBy("month")}}},[a("div",{class:{color:!0,active:"month"===t.activeIndex}}),t._v("按月")])])],1),t._v(" "),a("div",{staticClass:"case-bottom"},[a("div",{staticClass:"case-left er-card"},[a("chart",{ref:"B",staticStyle:{width:"100%",height:"100%"},attrs:{options:t.optionB,"auto-resize":""}})],1),t._v(" "),a("div",{staticClass:"case-right er-card"},[a("chart",{ref:"C",staticStyle:{width:"100%",height:"100%"},attrs:{options:t.optionC,"auto-resize":""}})],1)])])]),t._v(" "),t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-title"},[e("span",[e("i",{staticClass:"ercp-icon-general-summary"}),e("b",[this._v("系统概览")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-title"},[e("span",[e("i",{staticClass:"ercp-icon-medicine-reservation"}),e("b",[this._v("今日手术")]),this._v(" "),e("span",{staticClass:"light-text float-right small-text"},[this._v("2018-07--13 10:12:55更新过")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"case-statistics"},[a("div",{staticClass:"case"},[a("div",{staticClass:"light-text"},[t._v("完成手术")]),t._v(" "),a("div",[t._v("4")])]),t._v(" "),a("div",{staticClass:"case"},[a("div",{staticClass:"light-text"},[t._v("待做手术")]),t._v(" "),a("div",[t._v("2")])]),t._v(" "),a("div",{staticClass:"case"},[a("div",{staticClass:"light-text"},[t._v("未做排期")]),t._v(" "),a("div",[t._v("1")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon-line"},[e("i",{staticClass:"ercp-icon-general-dolist"}),this._v(" "),e("span",{staticClass:"line"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("林广福"),e("span",{staticClass:"info-text"},[this._v("未手术")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("手术报告"),e("span",{staticClass:"info-text"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("手术医生"),e("span",{staticClass:"info-text"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon-line"},[e("i",{staticClass:"ercp-icon-general-progress"}),this._v(" "),e("span",{staticClass:"line"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"operation-info"},[a("div",[a("span",[t._v("黄小明"),a("span",{staticClass:"primary-text"},[t._v("手术中")])])]),t._v(" "),a("div",[a("span",[t._v("手术报告"),a("span",{staticClass:"info-text"},[t._v("待录入")])])]),t._v(" "),a("div",[a("span",[t._v("手术医生"),a("span",{staticClass:"info-text"},[t._v("王大彪")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon-line"},[e("i",{staticClass:"ercp-icon-general-finish"}),this._v(" "),e("span",{staticClass:"line"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"operation-info"},[a("div",[a("span",[t._v("王小虎"),a("span",{staticClass:"success-text"},[t._v("已完成")])])]),t._v(" "),a("div",[a("span",[t._v("手术报告"),a("span",{staticClass:"success-text"},[t._v("已打印")])])]),t._v(" "),a("div",[a("span",[t._v("手术医生"),a("span",{staticClass:"info-text"},[t._v("王小彪")])])])])}]};var v=a("VU/8")(p,l,!1,function(t){a("pUwc")},"data-v-1f49ad00",null);e.default=v.exports},pUwc:function(t,e){}});