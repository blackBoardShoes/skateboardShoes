webpackJsonp([3],{W2Q3:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={mounted:function(){this.draw()},props:{codeLength:{type:Number,default:4}},data:function(){return{codes:[],ctx:"",colors:["red","yellow","blue","green","pink","black"],code_Len:this.codeLength}},computed:{codeString:function(){for(var t="",e=0;e<this.codes.length;e++)t+=this.codes[e];return t.toUpperCase()}},watch:{codeString:function(t,e){this.$emit("change",t)}},methods:{generateRandom:function(){this.codes=[];for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split(""),e=0;e<this.code_Len;e++){var s=Math.floor(Math.random()*t.length);this.codes.push(t[s])}},draw:function(){this.generateRandom(),this.drawText()},drawLine:function(){for(var t=0;t<3;t++)this.ctx.strokeStyle=this.colors[Math.floor(5*Math.random())],this.ctx.beginPath(),this.ctx.moveTo(Math.floor(160*Math.random()),Math.floor(30*Math.random())),this.ctx.lineTo(Math.floor(160*Math.random()),Math.floor(30*Math.random())),this.ctx.stroke()},drawText:function(){var t=this.$refs.canvas;this.ctx=t.getContext("2d"),this.ctx.fillStyle="#BFEFFF",this.ctx.fillRect(0,0,160,40),this.ctx.font="20px Verdana";for(var e=15,s=0;s<4;s++)this.ctx.fillStyle=this.colors[Math.floor(5*Math.random())],this.ctx.fillText(this.codes[s],e,25),e+=40;this.drawLine()}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"validate-code"},[e("canvas",{ref:"canvas",attrs:{width:"160px",height:"40px"},on:{click:this.draw}})])},staticRenderFns:[]};var r={created:function(){},data:function(){var t=this;return{passwordType:"password",checkCode:"",form:{username:"",password:"",yanzhengma:""},rules:{username:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}],yanzhengma:[{validator:function(e,s,a){""===(s=s.toUpperCase())?a(new Error("请输入验证码")):s!==t.checkCode?(a(new Error("验证码错误")),t.$refs["validate-code"].draw()):a()},trigger:"blur"}]}}},methods:{_setCheckCode:function(t){this.checkCode=t},_togglePasswordType:function(){"password"===this.passwordType?this.passwordType="text":this.passwordType="password"},loginHandle:function(t){var e=this;this.$refs[t].validate(function(t){t&&e.login()})},login:function(){this.$store.commit("SET_TOKEN","a94756da-2962-40ae-bdea-787fd02c9d92"),this.$store.commit("SET_USER","熊护士"),this.$router.replace("home")}},components:{validateCode:s("VU/8")(a,o,!1,function(t){s("fZJT")},"data-v-2d733b98",null).exports}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("div",{staticClass:"middle-wrapper"},[t._m(0),t._v(" "),s("div",{staticClass:"login-form"},[s("el-form",{ref:"loginForm",attrs:{model:t.form,rules:t.rules}},[s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{placeholder:"请输入账号"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}},[s("i",{staticClass:"el-input__icon el-icon-adm-user",staticStyle:{"font-size":"18px"},attrs:{slot:"prefix"},slot:"prefix"})])],1),t._v(" "),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:t.passwordType,placeholder:"请输入密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}},[s("i",{staticClass:"el-input__icon el-icon-adm-password",staticStyle:{"font-size":"18px"},attrs:{slot:"prefix"},slot:"prefix"}),t._v(" "),s("i",{staticClass:"el-input__icon el-icon-view",staticStyle:{cursor:"pointer"},attrs:{slot:"suffix"},on:{click:t._togglePasswordType},slot:"suffix"})])],1),t._v(" "),s("el-form-item",{attrs:{prop:"yanzhengma"}},[s("div",{staticClass:"check-code-wrapper"},[s("div",{staticClass:"yanzhengma-wrapper"},[s("el-input",{attrs:{placeholder:"请输入验证码"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.login("loginForm")}},model:{value:t.form.yanzhengma,callback:function(e){t.$set(t.form,"yanzhengma",e)},expression:"form.yanzhengma"}},[s("i",{staticClass:"el-input__icon el-icon-adm-vertification",staticStyle:{"font-size":"18px"},attrs:{slot:"prefix"},slot:"prefix"})])],1),t._v(" "),s("div",{staticClass:"validate-code-wrapper"},[s("validate-code",{ref:"validate-code",on:{change:t._setCheckCode}})],1)])]),t._v(" "),s("el-form-item",{staticStyle:{"margin-bottom":"0"}},[s("el-col",{attrs:{span:10,offset:14}},[s("el-form-item",[s("el-button",{staticClass:"login-btn",staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(e){t.loginHandle("loginForm")}}},[t._v("\n                登陆系统\n              ")])],1)],1)],1)],1)],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-wrapper"},[e("div",{staticClass:"title"},[this._v("ERCP信息录入管理系统")])])}]};var n=s("VU/8")(r,i,!1,function(t){s("Wtbe")},"data-v-db4f0326",null);e.default=n.exports},Wtbe:function(t,e){},fZJT:function(t,e){}});